# 02장.운영체제 개요 - 02

모든 프로그램은 CPU를 쓰고 I/O를 쓰는 작업을 반복 (입력 → cpu → 출력)

cpu 스케줄링을 통해 cpu 사용순서를 정해야함

## **CPU 스케줄링**

**1) FCFS (First-Come-First-Served)**

- 큐에 들어오는 순서대로 작업 수행
- 한 프로세스의 작업시간 때문에 다른 프로세스(작업시간이 짧은)가 기다리는 시간이 많아짐 → 비효율성
- 짧은 프로세스가 먼저 도착했는 지 긴 프로세스가 먼저 도착했는 지에 따라 평균 대기시간의 차이가 큼

**2) SJF (Shortest-Job-First)**

- CPU 사용시간이 가장 짧은 프로세스를 제일 먼저 스케줄
- SJF는 최소 평균 대기시간을 보장
- 효율성은 좋지만 형평성이 문제 → Starvation(기아 현상)이 발생 가능
  - 사용시간이 긴 프로세스는 무한정 대기해야하는 현상이 일어날 수 있음

**3) Round Robin (RR)**

- 각 프로세스는 동일 크기의 cpu 할당 시간을 가짐
- 할당시간이 끝나면 인터럽트가 발생하여 해당 프로세스는 cpu를 빼앗기고 cpu 큐의 제일 뒤에 줄을 섬
- 어떤 프로세스도 (n-1)\*할당시간 이상 기다리지 않음 → 대기시간이 프로세스의 cpu 사용시간에 비례

<br>

## **메모리 관리**

가상메모리에서 프로세스의 가장 필요한 일부분(페이지)만 물리적 메모리에 올라가게됨

그것을 제외한 일부분은 디스크(스왑영역)에 보관한다.

물리적 메모리가 꽉차면 페이지를 스왑하는 식으로 관리해야함

미래에 쓰일 가능성이 낮은 페이지를 삭제하는 것을 목표로 해야함

**1) LRU (가장 오래전에 참조된 페이지 삭제)**

현재 시점을 기준으로 가장 마지막에 사용된 참조 페이지를 삭제한다.

→ 오래전에 사용된 페이지는 미래에 다시 사용안될 가능성이 높다고 판단

**2) LFU (참조횟수가 가장 적은 페이지 삭제)**

현재 시점을 기준으로 가장 많이 적게 참조된 페이지를 삭제한다.

→ 인기가 없는 페이지는 미래에 다시 사용안될 가능성이 높다고 판단

<br>

## **디스크 스케줄링**

- 디스크 큐에 들어온 요청 순서를 어떻게 처리할 것인가를 스케줄링 → 디스크 헤드의 이동을 최대한 줄이는 방안으로 스케줄링 하는 것이 중요
- 디스크 접근 시간의 구성
  - 탐색 시간(Seek time) : 디스크 헤드를 해당 트랙(실린더)으로 움직이는데 걸리는 시간
  - 회전 지연(Rotational latency) : 헤드가 원하는 섹터에 도달하기까지 걸리는 시간
  - 전송 시간(Transfer time) : 실제 데이터의 전송 시간
- 디스크 스케줄링은 탐색 시간을 최소화하는 것이 목표이다. (탐색시간은 탐색거리에 비례)

**1) FCFS (First-Come First-Served)**

먼저 큐에 들어온 순서대로 처리 → 헤드가 많이 움직여 비효율적

**2) SSTF (Shortest Seek Time First)**

- 큐에 있는 요청들 중 현재 지점에서 가장 가까운 거리에 있는 요청 우선 처리 → 이동거리가 짧아짐
- 문제점 : 기아 현상 발생 가능 → 어떤 요청은 무한히 대기해야할 수 있음

**3) SCAN**

- 헤드가 디스크의 한쪽 끝에서 반대쪽 끝으로 이동하며 가는 길목에 있는 모든 요청을 처리
- 다른 한쪽 끝에 도달하면 역방향으로 이동하며 오는 길목에 있는 모든 요청을 처리하며 다시 반대쪽 끝으로 이동
- 효율성, 형평성 문제 모두 해결
- 엘레베이터 스케줄링과 같음

<br>

## 저장장치 계층구조와 캐싱

계층 구조 이유 : 경제성과 캐싱

저장장치는 다양한 계층으로 이루어져있음 (다양한 계층이 서로 필요하면 접근)

속도 차이에 따른 병목현상을 줄이기 위해 계층을 둠

시간을 완충하기 위해 다른 계층에 접근하는 시간을 줄인다

→ 어떤 데이터가 다시 필요할 때는 캐싱해놓고 캐싱해놓았던 곳을 참조

- Primary : 컴퓨터의 내부, cpu가 직접 실행 가능
- Secondary : cpu가 직접 접근 못함(접근하려면 Primary에 올려놓아야함), I/O 장치들

![Untitled](https://user-images.githubusercontent.com/60915285/167695246-4ed9f6c4-91c1-4227-9b11-5ae3483652e9.png)

- 속도(Speed) 측면 : 계층의 위로 갈수록 빠름 (완충 역할)
- 가격(Cost) 측면 : 계층의 위로 갈수록 비용이 큼 (비싸서 적은 용량 사용가능)
- 휘발성(Volatility) 측면 : Primary 부분은 휘발성, Secondary 부분은 비휘발성

<br>

## **캐시히트와 캐시미스**

캐시 히트 : 캐시에서 원하는 데이터를 찾음. cpu 내부 버스를 기반으로 작동하여 빠름
캐시 미스 : 해당 데이터가 캐시에 없어서 주 메모리로 가서 찾아옴. 시스템 버스를 기반으로 작동하여 느림

## **플래시 메모리**

- 반도체 장치 (하드디스크 : 마그네틱)
- NAND형(스토리지), NOR형(임베디드 코드저장용)
- 특징 : 비휘발성, 저전력 소비, 충격에 강함, 작은 크기, 가벼움, 쓰기 횟수 제약
- 사용 형태 : 휴대폰 , PDA 등 임베디드 시스템 구성용, USB 메모리 스틱, 디지털 카메라 등의 SD카드, 모바일 장치 뿐만 아니라 대용량 시스템에서도 SSD란 이름으로 하드디스크 대체 시도
