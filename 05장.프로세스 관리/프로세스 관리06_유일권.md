# 12강. 프로세스 관리 - 06

### **fork()**, **exec()** 함수

- 자식 프로세스는 부모 프로세스의 첨부터 시작하지 않고, 부모의 현재 수행한 시점부터 수행
- 자신이 복제된 것인지, 원본인지 구분하기 위해 **fork()** 함수는 원본은 양수, 복제본은 0을 준다.
- 자식은 **exec()** 함수를 통해 현재 주소공간을 새로운 프로그램으로 덮어씌우고, 새 프로그램의 처음부터 실행한다.

### wait() 시스템 콜

- 프로세스 A가 **wait()** 시스템 콜을 호출하면
    - 커널은 자식이 종료될때까지 프로세스 A를 sleep시킨다.(Blocked)
    - 자식이 종료되면 커널은 프로세스 A를 깨운다.(Ready)

### exit() 시스템 콜

- 프로세스의 종료
    - 자발적 종료
        - 마지막 statement 수행 후 exit() 시스템 콜 호출
        - 명시적으로 작성하지 않아도 main() 함수가 리턴되는 위치에 컴파일러가 넣어줌
    - 비자발적 종료
        - 부모 프로세스가 자식 프로세스를 강제 종료
            - 자식 프로세스가 한계치를 넘어서는 자원 요청
            - 자식에게 할당된 task가 더 이상 필요하지 않음
        - 키보드로 kill, break를 친 경우
        - 부모가 종료되는 경우
            - 부모가 종료되기 전에 자식들이 먼저 종료되게 됨
            

## 프로세스 간 협력

### 독립적 프로세스

- 프로세스는 각자의 주소공간을 가지고 수행되므로 원칙적으로 하나의 프로세스는 다른 프로세스의 수행에 영향을 미치지 못함

### 협력 프로세스

- 프로세스 협력 메커니즘을 통해 하나의 프로세스가 다른 프로세스의 수행에 영향을 미칠 수 있음

### 프로세스 간 협력 메커니즘(IPC:Interprocess Comunication)

- 메세지를 전달하는 방법
    - **message passing** : 커널을 통해 메세지 전달
        - message system : 프로세스 사이에 공유 변수(shared variable)를 일체 사용하지 않고 통신하는 시스템
        - direct communication : 통신하려는 프로세스의 이름을 명시적으로 표시
        - indirect communication : mainbox(또는 port)를 통해 메세지를 간접 전달
- 주소 공간을 공유하는 방법
    - **shared memory** : 서로 다른 프로세스 간에도 일부 주소 공간을 공유하게 하는 **shared memory** 메커니즘이 있음
- **thread** : **thread**는 사실상 하나의 프로세스이므로 프로세스 간 협력으로 보기는 어렵지만 동일한 **process**를 구성하는 **thread**들 간에는 주소 공간을 공유하므로 협력이 가능